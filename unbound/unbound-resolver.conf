server:
  # Listen on an unprivileged port so it runs fine in containers.
  interface: 0.0.0.0
  interface: ::0
  port: 5053

  # Only allow queries from private networks (docker + Fly private net).
  # IMPORTANT: do NOT make this an open resolver.
  access-control: 127.0.0.0/8 allow
  access-control: 10.0.0.0/8 allow
  access-control: 172.16.0.0/12 allow
  access-control: 192.168.0.0/16 allow
  access-control: 100.64.0.0/10 allow     # Fly private IPv4 range (CGNAT space)
  access-control: fc00::/7 allow          # Fly private IPv6 range (ULA)

  # Everything else denied by default 
#  access-control: 0.0.0.0/0 refuse
#  access-control: ::0/0 refuse

  # DNSSEC validation settings
  auto-trust-anchor-file: "/etc/unbound/root.key"

  # RFC 4035 validation behavior
  val-permissive-mode: no

  # Helpful hardening / safety defaults
  harden-dnssec-stripped: yes
  harden-below-nxdomain: yes
  qname-minimisation: yes

  # Performance / usability
  logfile: ""
  use-syslog: no
  verbosity: 3
  do-ip4: yes
  do-ip6: yes
  do-udp: yes
  do-tcp: yes

  # Cache sizes (reasonable container defaults)
  msg-cache-size: 50m
  rrset-cache-size: 100m

  # Avoid binding to privileged user; Debian/Ubuntu packages use "unbound"
  #username: "unbound"
